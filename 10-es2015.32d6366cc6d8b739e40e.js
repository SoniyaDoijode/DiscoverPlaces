(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Yj9t:function(i,o,n){"use strict";n.r(o),n.d(o,"AuthPageModule",(function(){return g}));var e=n("ofXK"),t=n("3Pt+"),s=n("TEn/"),r=n("tyNb"),a=n("fXoL"),b=n("qXBG");function l(i,o){1&i&&(a.Kb(0,"ion-item",13),a.Kb(1,"ion-label",14),a.ic(2,"Should be a valid email address"),a.Jb(),a.Jb())}function c(i,o){1&i&&(a.Kb(0,"ion-item",13),a.Kb(1,"ion-label",14),a.ic(2,"Should atleast be 6 characters long"),a.Jb(),a.Jb())}const d=[{path:"",component:(()=>{class i{constructor(i,o,n,e){this.authService=i,this.router=o,this.loadingCtrl=n,this.alertCtrl=e,this.isLogin=!0}ngOnInit(){}authenticate(i,o){this.isLoading=!0,this.loadingCtrl.create({keyboardClose:!0,message:"Logging in....."}).then(n=>{let e;n.present(),e=this.isLogin?this.authService.login(i,o):this.authService.signUp(i,o),e.subscribe(i=>{console.log(i),this.isLoading=!1,n.dismiss(),this.router.navigateByUrl("/places/tabs/discover")},i=>{n.dismiss();const o=i.error.error.message;console.log("code",o);let e="Could not sign you up, please try again";"EMAIL_EXISTS"===o?e="This email already exists!":"EMAIL_NOT_FOUND"===o?e=" email address could not be found!":"INVALID_PASSWORD"===o&&(e="This password is not correct!"),console.log("message_____ ",e),this.showAlert(e)})})}onSubmit(i){if(console.log(i),!i.valid)return;const o=i.value.email,n=i.value.password;console.log(o,n),this.authenticate(o,n),i.reset()}onSwitchAuthMode(){this.isLogin=!this.isLogin}showAlert(i){this.alertCtrl.create({header:"Authentication failed!",message:i,buttons:["Okay"]}).then(i=>{i.present()})}}return i.\u0275fac=function(o){return new(o||i)(a.Hb(b.a),a.Hb(r.g),a.Hb(s.V),a.Hb(s.b))},i.\u0275cmp=a.Bb({type:i,selectors:[["app-auth"]],decls:29,vars:6,consts:[["color","primary"],[1,"ion-padding"],[3,"ngSubmit"],["f","ngForm"],["size-sm","6","offset-sm","3"],["position","floating"],["type","email","ngModel","","name","email","required","","email",""],["email","ngModel"],["lines","none",4,"ngIf"],["type","Password","ngModel","","name","password","required","","minlength","6"],["password","ngModel"],["type","button","color","primary","fill","clear","expand","block",3,"click"],["type","submit","color","primary","expand","block",3,"disabled"],["lines","none"],[2,"color","red"]],template:function(i,o){if(1&i){const i=a.Lb();a.Kb(0,"ion-header"),a.Kb(1,"ion-toolbar",0),a.Kb(2,"ion-title"),a.ic(3),a.Jb(),a.Jb(),a.Jb(),a.Kb(4,"ion-content",1),a.Kb(5,"form",2,3),a.Sb("ngSubmit",(function(){a.dc(i);const n=a.cc(6);return o.onSubmit(n)})),a.Kb(7,"ion-grid"),a.Kb(8,"ion-row"),a.Kb(9,"ion-col",4),a.Kb(10,"ion-list"),a.Kb(11,"ion-item"),a.Kb(12,"ion-label",5),a.ic(13," Email "),a.Jb(),a.Ib(14,"ion-input",6,7),a.Jb(),a.hc(16,l,3,0,"ion-item",8),a.Kb(17,"ion-item"),a.Kb(18,"ion-label",5),a.ic(19," Password "),a.Jb(),a.Ib(20,"ion-input",9,10),a.Jb(),a.hc(22,c,3,0,"ion-item",8),a.Jb(),a.Jb(),a.Jb(),a.Kb(23,"ion-row"),a.Kb(24,"ion-col",4),a.Kb(25,"ion-button",11),a.Sb("click",(function(){return o.onSwitchAuthMode()})),a.ic(26),a.Jb(),a.Kb(27,"ion-button",12),a.ic(28),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Jb()}if(2&i){const i=a.cc(6),n=a.cc(15),e=a.cc(21);a.xb(3),a.jc(o.isLogin?"Login":"Signup"),a.xb(13),a.Zb("ngIf",!n.valid&&n.touched),a.xb(6),a.Zb("ngIf",!e.valid&&e.touched),a.xb(4),a.kc("Switch to ",o.isLogin?"Signup":"Login",""),a.xb(1),a.Zb("disabled",!i.valid),a.xb(1),a.kc(" ",o.isLogin?"Login":"SignUp"," ")}},directives:[s.r,s.R,s.Q,s.o,t.q,t.k,t.l,s.q,s.F,s.n,s.A,s.v,s.z,s.u,s.db,t.j,t.m,t.o,t.a,e.k,t.g,s.g],styles:[""]}),i})()}];let u=(()=>{class i{}return i.\u0275mod=a.Fb({type:i}),i.\u0275inj=a.Eb({factory:function(o){return new(o||i)},imports:[[r.i.forChild(d)],r.i]}),i})(),g=(()=>{class i{}return i.\u0275mod=a.Fb({type:i}),i.\u0275inj=a.Eb({factory:function(o){return new(o||i)},imports:[[e.b,t.f,s.T,u]]}),i})()}}]);